<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Starbound Lua API</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Starbound</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/entity.html">entity</a></li>
  <li><a href="../modules/monsterHooks.html">monsterHooks</a></li>
  <li><a href="../modules/npcHooks.html">npcHooks</a></li>
  <li><a href="../modules/objectHooks.html">objectHooks</a></li>
  <li><strong>world</strong></li>
</ul>

</div>

<div id="content">

<h1>Module <code>world</code></h1>

<p>Stubs for world.* callbacks defined in C++.</p>
<p> DO NOT INCLUDE this file in your scripts, it is for documentation purposes only.</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#liquidAt">liquidAt(position)</a></td>
	<td class="summary">Gets the type and level of liquid at the given position</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spawnLiquid">spawnLiquid(position, liquidId, quantity)</a></td>
	<td class="summary">Creates liquid at the given location</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#destroyLiquid">destroyLiquid(position)</a></td>
	<td class="summary">Removes liquid at the given location</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#placeObject">placeObject(objectName, position, direction, config)</a></td>
	<td class="summary">Places an object at the given position</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#breakObject">breakObject(entityId, smash)</a></td>
	<td class="summary">Removes the given object from the world
 Note that this cannot currently be called from tech.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spawnItem">spawnItem(objectName, spawnPosition, count, config)</a></td>
	<td class="summary">Spawns an item drop at the given position</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spawnMonster">spawnMonster(type, spawnPosition, config)</a></td>
	<td class="summary">Spawns a monster at the specified location with the corresponding flags</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spawnNpc">spawnNpc(spawnPosition, species, type, level, seed, config)</a></td>
	<td class="summary">Spawns an NPC at the specified location with the corresponding flags</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spawnProjectile">spawnProjectile(projectileName, spawnPosition, sourceEntityId, projectileDirection, trackSourceEntity, config)</a></td>
	<td class="summary">Spawns a projectile at the given location</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#time">time(...)</a></td>
	<td class="summary">Gets the epoch time of the currently active planet</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#day">day(...)</a></td>
	<td class="summary">Gets the current day</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#timeOfDay">timeOfDay()</a></td>
	<td class="summary">Gets the time of day, based on the current planet's day length</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#info">info()</a></td>
	<td class="summary">Gets info about the current world</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#itemType">itemType(itemDescriptor)</a></td>
	<td class="summary">Gets the general type of an item</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#logInfo">logInfo(format, ...)</a></td>
	<td class="summary">Log text to the starbound.log file</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#debugPoint">debugPoint(position, color)</a></td>
	<td class="summary">Render a point that can be viewed when /debug is enabled.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#debugLine">debugLine(startPoint, endPoint, color)</a></td>
	<td class="summary">Render a line that can be viewed when /debug is enabled.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#debugText">debugText(format, ..., position, color)</a></td>
	<td class="summary">Render text that can be viewed when /debug is enabled.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#distance">distance(position1, position2)</a></td>
	<td class="summary">Gets the vector between two positions, accounting for the world wrap.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#magnitude">magnitude(vector1, vector2)</a></td>
	<td class="summary">Calculates the magnitude of a 2-vector table, or the magnitude of the distance between two 2-vectors.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pointCollision">pointCollision(position[, solidOnly=true])</a></td>
	<td class="summary">Check if the given position collides with solid and/or platform collision.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#lineCollision">lineCollision(startPoint, endPoint[, solidOnly=true])</a></td>
	<td class="summary">Check if the given line collides with solid and/or platform collision.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#rectCollision">rectCollision(region[, solidOnly=true])</a></td>
	<td class="summary">Check if the given rectangle collides with solid and/or platform collision.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#collisionBlocksAlongLine">collisionBlocksAlongLine(startPoint, endPoint[, solidOnly=true[, maxSize=-1]])</a></td>
	<td class="summary">Gets all the tile positions along the given line that contain collision.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#gravity">gravity(position)</a></td>
	<td class="summary">Gets the force due to gravity applied at the given position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#isVisibleToPlayer">isVisibleToPlayer(region)</a></td>
	<td class="summary">Determines if the given region overlaps a player's screen region.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setParticleEmitterActive">setParticleEmitterActive(name, active)</a></td>
	<td class="summary">Enables or disables a particle emitter.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#burstParticleEmitter">burstParticleEmitter(name)</a></td>
	<td class="summary">Triggers a one-tick emission of particles.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#entityQuery">entityQuery(center, radius[, options])</a></td>
	<td class="summary">Finds all entities in the given region.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#monsterQuery">monsterQuery(center, radius[, options])</a></td>
	<td class="summary">Entity query that only considers monsters.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#npcQuery">npcQuery(center, radius[, options])</a></td>
	<td class="summary">Entity query that only considers npcs.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#objectQuery">objectQuery(center, radius[, options])</a></td>
	<td class="summary">Entity query that only considers placed objects.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#itemDropQuery">itemDropQuery(center, radius[, options])</a></td>
	<td class="summary">Entity query that only considers item drops.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#playerQuery">playerQuery(center, radius[, options])</a></td>
	<td class="summary">Entity query that only considers players.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#loungeableQuery">loungeableQuery(center, radius[, options])</a></td>
	<td class="summary">Entity query that only considers placed objects.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#entityLineQuery">entityLineQuery(start, end[, options])</a></td>
	<td class="summary">Entity query that only matches entities intersecting the given line.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#objectLineQuery">objectLineQuery(start, end[, options])</a></td>
	<td class="summary">Entity query that only matches placed objects intersecting the given line.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#npcLineQuery">npcLineQuery(start, end[, options])</a></td>
	<td class="summary">Entity query that only matches npcs intersecting the given line.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#entityExists">entityExists(entityId)</a></td>
	<td class="summary">Determines if an entity still exists in the world.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#entityType">entityType(entityId)</a></td>
	<td class="summary">Determines the general type of an entity.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#entityPosition">entityPosition(entityId)</a></td>
	<td class="summary">Gets the world position of an entity.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#entityUuid">entityUuid(entityId)</a></td>
	<td class="summary">Gets a UUID for the given entity.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#entityHealth">entityHealth(entityId)</a></td>
	<td class="summary">Gets the current and maximum health of an entity.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#entitySpecies">entitySpecies(entityId)</a></td>
	<td class="summary">Gets the species of the entity.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#entityName">entityName(entityId)</a></td>
	<td class="summary">Gets the name of the entity.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#entityIsOnGround">entityIsOnGround(entityId)</a></td>
	<td class="summary">Gets whether the entity is currently on the ground.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#entityHandItem">entityHandItem(entityId, hand)</a></td>
	<td class="summary">Gets an item descriptor for the item held in the entity's hand.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#callScriptedEntity">callScriptedEntity(entityId, name[, ...])</a></td>
	<td class="summary">Calls a lua function in the given entity's lua context.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#loungeableOccupied">loungeableOccupied(entityId)</a></td>
	<td class="summary">Determine if a loungeable object is occupied.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#isMonster">isMonster(entityId[, isAggressive])</a></td>
	<td class="summary">Determine if the given entity is a monster.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#isNpc">isNpc(entityId[, damageTeam])</a></td>
	<td class="summary">Determine if the given entity is an NPC.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#takeItemDrop">takeItemDrop(entityId[, takenByEntityId])</a></td>
	<td class="summary">Mark the given item drop entity as taken.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#lightLevel">lightLevel(position)</a></td>
	<td class="summary">Gets the amount of light applied to a given position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#windLevel">windLevel(position)</a></td>
	<td class="summary">Gets the amount of wind at the given position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#temperature">temperature(position)</a></td>
	<td class="summary">Gets the temperature at the given position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#breathable">breathable(position)</a></td>
	<td class="summary">Gets whether or not the position is breathable.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#underground">underground(position)</a></td>
	<td class="summary">Determine whether the given position is below the underground level.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#material">material(position, layer)</a></td>
	<td class="summary">Gets the name of the material at the given position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#mod">mod(position, layer)</a></td>
	<td class="summary">Gets the tile modification on the tile at the given position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#damageTiles">damageTiles(positions, layer, sourcePosition, type, amount)</a></td>
	<td class="summary">Applies damage to the tiles at the given positions.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#placeMaterial">placeMaterial(position, layer, materialName[, materialHue=nil[, allowOverlap=false]])</a></td>
	<td class="summary">Places a tile of a specific material at the given location.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#placeMod">placeMod(position, layer, modName[, modHue=nil[, allowOverlap=false]])</a></td>
	<td class="summary">Places a specific tile modification at the given location.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    <dl class="function">
    <dt>
    <a name = "liquidAt"></a>
    <strong>liquidAt(position)</strong>
    </dt>
    <dd>
    Gets the type and level of liquid at the given position

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
         The {x,y} position to check.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>


<p> null if no liquid is present at the given location, or a table</p>
<pre><code>      (array) of { &lt;liquid id&gt;, &lt;liquid level&gt; } where liquid id can be:
        1 -&gt; water
        2 -&gt; endless water
        3 -&gt; lava
        4 -&gt; acid
        5 -&gt; endless lava
        6 -&gt; tentacle juice
        7 -&gt; tar
</code></pre>

    </ol>




</dd>
    <dt>
    <a name = "spawnLiquid"></a>
    <strong>spawnLiquid(position, liquidId, quantity)</strong>
    </dt>
    <dd>
    Creates liquid at the given location

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
         The {x,y} position to place the liquid at
        </li>
        <li><span class="parameter">liquidId</span>

<p> The numeric (integer) liquid type to spawn - see return</p>
<pre><code>    values of world.liquidAt for valid options.
</code></pre>

        </li>
        <li><span class="parameter">quantity</span>
         The amount of liquid to spawn.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        true if the requested liquid was spawned, false otherwise
    </ol>




</dd>
    <dt>
    <a name = "destroyLiquid"></a>
    <strong>destroyLiquid(position)</strong>
    </dt>
    <dd>
    Removes liquid at the given location

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
         The {x,y} position to remove liquid from
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>


<p> nil if there was no liquid at the given position or the liquid</p>
<pre><code>      could not be removed, a table (array) of { &lt;liquidId&gt;, &lt;liquidLevel&gt; }
      if the liquid was removed
</code></pre>

    </ol>




</dd>
    <dt>
    <a name = "placeObject"></a>
    <strong>placeObject(objectName, position, direction, config)</strong>
    </dt>
    <dd>
    Places an object at the given position

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">objectName</span>
         Name of object to spawn, as specified in an *.object file
        </li>
        <li><span class="parameter">position</span>
         { x, y } anchor position of the object
        </li>
        <li><span class="parameter">direction</span>
         (optional) -1 for Left, 1 for Right (defaults to Right)
        </li>
        <li><span class="parameter">config</span>

<p> (optional) Additional table (hash) of configuration options</p>
<pre><code>    that will be merged in with the final object configuration.
</code></pre>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "breakObject"></a>
    <strong>breakObject(entityId, smash)</strong>
    </dt>
    <dd>
    Removes the given object from the world
 Note that this cannot currently be called from tech.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
         The id of an object entity to smash
        </li>
        <li><span class="parameter">smash</span>

<p> (optional) If true, object will be smashed - otherwise object</p>
<pre><code>          will just be broken. Defaults to false.
</code></pre>


        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        true if the given entity exists and is an object, false otherwise
    </ol>




</dd>
    <dt>
    <a name = "spawnItem"></a>
    <strong>spawnItem(objectName, spawnPosition, count, config)</strong>
    </dt>
    <dd>
    Spawns an item drop at the given position

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">objectName</span>
         Name of object to spawn, as specified in an *.object file
        </li>
        <li><span class="parameter">spawnPosition</span>
         World position { x, y } to spawn item at
        </li>
        <li><span class="parameter">count</span>
         (optional) Number of items to spawn (stacked), defaults to 1.
        </li>
        <li><span class="parameter">config</span>

<p> (optional) Table (hash) of additional configuration values</p>
<pre><code>           that will be merged into the final object configuration.
</code></pre>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "spawnMonster"></a>
    <strong>spawnMonster(type, spawnPosition, config)</strong>
    </dt>
    <dd>
    Spawns a monster at the specified location with the corresponding flags

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">type</span>
         Monster type as specified in a .monstertype file
        </li>
        <li><span class="parameter">spawnPosition</span>
         {x,y} in world coordinates.
        </li>
        <li><span class="parameter">config</span>

<p> (optional) configuration table (hash) that will be merged</p>
<pre><code>           into the final monster configuration built from the .monstertype
</code></pre>


        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (int) entity id of the spawned monster
    </ol>




</dd>
    <dt>
    <a name = "spawnNpc"></a>
    <strong>spawnNpc(spawnPosition, species, type, level, seed, config)</strong>
    </dt>
    <dd>
    Spawns an NPC at the specified location with the corresponding flags

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">spawnPosition</span>
         {x,y} in world coordinates.
        </li>
        <li><span class="parameter">species</span>

<p> name of the species of the NPC as defined by the "kind"</p>
<pre><code>    value in a *.species file.
</code></pre>

        </li>
        <li><span class="parameter">type</span>

<p> The type of npc to spawn, as defined by the "type" value in a</p>
<pre><code>    *.npctype file
</code></pre>

        </li>
        <li><span class="parameter">level</span>
         The level of the npc to spawn
        </li>
        <li><span class="parameter">seed</span>
         (optional)
        </li>
        <li><span class="parameter">config</span>

<p> (optional) Configuration options that will be merged into</p>
<pre><code>    the final configuration for the NPC.
</code></pre>


        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (int) entity id of the spawned npc
    </ol>




</dd>
    <dt>
    <a name = "spawnProjectile"></a>
    <strong>spawnProjectile(projectileName, spawnPosition, sourceEntityId, projectileDirection, trackSourceEntity, config)</strong>
    </dt>
    <dd>
    Spawns a projectile at the given location

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">projectileName</span>
         The (string) name of a projectile, as specified in a *.projectile file
        </li>
        <li><span class="parameter">spawnPosition</span>
          {x,y} in world coordinates of where to spawn.
        </li>
        <li><span class="parameter">sourceEntityId</span>
         (optional) Entity id that will be set as the source of the projectile
        </li>
        <li><span class="parameter">projectileDirection</span>
         2-vector direction for projectile to travel
        </li>
        <li><span class="parameter">trackSourceEntity</span>
         If true, projectile position will be relative to source entity position (even if the source entity moves)
        </li>
        <li><span class="parameter">config</span>
         Additional config options that will be merged in to the projectile configuration
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (int) entity id of the spawned projectile
    </ol>




</dd>
    <dt>
    <a name = "time"></a>
    <strong>time(...)</strong>
    </dt>
    <dd>
    Gets the epoch time of the currently active planet

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">...</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Time since the epoch start (day zero)
    </ol>




</dd>
    <dt>
    <a name = "day"></a>
    <strong>day(...)</strong>
    </dt>
    <dd>
    Gets the current day

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">...</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Days since the epoch start (day zero)
    </ol>




</dd>
    <dt>
    <a name = "timeOfDay"></a>
    <strong>timeOfDay()</strong>
    </dt>
    <dd>
    Gets the time of day, based on the current planet's day length


    <h3>Returns:</h3>
    <ol>

        Time of day as a ratio, ranging from 0.0 to 1.0
    </ol>




</dd>
    <dt>
    <a name = "info"></a>
    <strong>info()</strong>
    </dt>
    <dd>
    Gets info about the current world


    <h3>Returns:</h3>
    <ol>


<p> nil if on a ship, or a table (hash) with the following keys:</p>
<pre><code>      name - friendly name of the world, e.g.: "Alpha Iota Cnc 6335 IV b"
      handle - world identifier string, e.g.: "alpha:63052862:92521378:-8389600:9:7"
      sector - name of the sector the world is in, e.g.: "alpha"
</code></pre>

    </ol>




</dd>
    <dt>
    <a name = "itemType"></a>
    <strong>itemType(itemDescriptor)</strong>
    </dt>
    <dd>
    Gets the general type of an item

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">itemDescriptor</span>

<p> Descriptor of an item, could be a string (e.g.</p>
<pre><code>    an objectName value from a *.object config file) or a descriptor
    as listed in a blueprint list (e.g. { "item" : "copperarmorhead" })
</code></pre>


        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>


<p> (string) Item type name, mapped from config file type as:</p>
<pre><code>*.item            -&gt; "generic"
*.matitem         -&gt; "material"
*.miningtool      -&gt; "miningtool"
*.flashlight      -&gt; "flashlight"
*.wiretool        -&gt; "wiretool"
*.beamaxe         -&gt; "beamminingtool"
  *.tillingtool     -&gt; "tillingtool"
  *.painttool       -&gt; "paintingbeamtool"
  *.gun             -&gt; "gun"
  *.sword           -&gt; "sword"
  *.shield          -&gt; "shield"
  *.harvestingtool  -&gt; "harvestingtool"
  *.head            -&gt; "headarmor"
  *.chest           -&gt; "chestarmor"
  *.legs            -&gt; "legsarmor"
  *.back            -&gt; "backarmor"
  *.coinitem        -&gt; "coin"
  *.consumable      -&gt; "consumable"
  *.blueprint       -&gt; "blueprint"
  *.codexitem       -&gt; "codex"
  *.techitem        -&gt; "techitem"
  *.instrument      -&gt; "instrument"
  *.grapplinghook   -&gt; "grapplinghook"
  *.thrownitem      -&gt; "thrownitem"
  *.celestial       -&gt; "celestialitem"
</code></pre>

    </ol>




</dd>
    <dt>
    <a name = "logInfo"></a>
    <strong>logInfo(format, ...)</strong>
    </dt>
    <dd>
    Log text to the starbound.log file

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">format</span>
         A string to log, or a format specifier string.
        </li>
        <li><span class="parameter">...</span>

<p> Arguments that will be used if format is a format specifier</p>
<pre><code>        string. A maximum of 4 arguments are supported.
</code></pre>


        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        nil
    </ol>




</dd>
    <dt>
    <a name = "debugPoint"></a>
    <strong>debugPoint(position, color)</strong>
    </dt>
    <dd>
    Render a point that can be viewed when /debug is enabled.
 Note that scripted entities are generally not updated every tick, so this
 point may flicker if the entity's scriptDelta is greater than 1.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
         The {x,y} position to render the point at
        </li>
        <li><span class="parameter">color</span>

<p> The color of the point as a string (e.g. "red") or as a table</p>
<pre><code>    (array) of { r, g, b } or { r, g, b, a }
</code></pre>


        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        nil
    </ol>




</dd>
    <dt>
    <a name = "debugLine"></a>
    <strong>debugLine(startPoint, endPoint, color)</strong>
    </dt>
    <dd>
    Render a line that can be viewed when /debug is enabled.
 Note that scripted entities are generally not updated every tick, so this
 line may flicker if the entity's scriptDelta is greater than 1.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">startPoint</span>
         The {x,y} position of the line's starting point
        </li>
        <li><span class="parameter">endPoint</span>
         The {x,y} position of the line's ending point
        </li>
        <li><span class="parameter">color</span>

<p> The color of the line as a string (e.g. "red") or as a table</p>
<pre><code>    (array) of { r, g, b } or { r, g, b, a }
</code></pre>


        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        nil
    </ol>




</dd>
    <dt>
    <a name = "debugText"></a>
    <strong>debugText(format, ..., position, color)</strong>
    </dt>
    <dd>
    Render text that can be viewed when /debug is enabled.
 Note that scripted entities are generally not updated every tick, so this
 text may flicker if the entity's scriptDelta is greater than 1.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">format</span>
         A string of text, or format specifier string.
        </li>
        <li><span class="parameter">...</span>

<p> Arguments used if the format param is a format specifier</p>
<pre><code>    string. A maximum of 3 arguments are supported.
</code></pre>

        </li>
        <li><span class="parameter">position</span>
         The {x,y} position to render the text at
        </li>
        <li><span class="parameter">color</span>

<p> The color of the text as a string (e.g. "red") or as a table</p>
<pre><code>    (array) of { r, g, b } or { r, g, b, a }
</code></pre>


        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        nil
    </ol>




</dd>
    <dt>
    <a name = "distance"></a>
    <strong>distance(position1, position2)</strong>
    </dt>
    <dd>
    Gets the vector between two positions, accounting for the world wrap.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position1</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         {x,y} position in world coordinates
        </li>
        <li><span class="parameter">position2</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         {x,y} position in world coordinates
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">vector</span></span>
         (position1 - position2) from position2 to position1, which
  will be correct even when around the world wrap.

    </ol>




</dd>
    <dt>
    <a name = "magnitude"></a>
    <strong>magnitude(vector1, vector2)</strong>
    </dt>
    <dd>
    Calculates the magnitude of a 2-vector table, or the magnitude of the distance between two 2-vectors. </p>

<p>  Accounts for world wrapping if two vectors are given.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">vector1</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         Vector or start point of a line segment
        </li>
        <li><span class="parameter">vector2</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         If given, the magnitude of (vector1 - vector2) will be calculated
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">numeric</span></span>
        magnitude
    </ol>




</dd>
    <dt>
    <a name = "pointCollision"></a>
    <strong>pointCollision(position[, solidOnly=true])</strong>
    </dt>
    <dd>
    Check if the given position collides with solid and/or platform collision.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         The { x, y } position to check
        </li>
        <li><span class="parameter">solidOnly</span>
            <span class="types"><span class="type">bool</span></span>
         If true, will only check for solid collision,
  otherwise will include platform collision.
         (<em>default</em> true)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if the given position falls inside of a collision region
    </ol>




</dd>
    <dt>
    <a name = "lineCollision"></a>
    <strong>lineCollision(startPoint, endPoint[, solidOnly=true])</strong>
    </dt>
    <dd>
    Check if the given line collides with solid and/or platform collision.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">startPoint</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         The { x, y } position of the line start point
        </li>
        <li><span class="parameter">endPoint</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         The { x, y } position of the line end point
        </li>
        <li><span class="parameter">solidOnly</span>
            <span class="types"><span class="type">bool</span></span>
         If true, will only check for solid collision,
  otherwise will include platform collision.
         (<em>default</em> true)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if the given line intersects a collision region
    </ol>




</dd>
    <dt>
    <a name = "rectCollision"></a>
    <strong>rectCollision(region[, solidOnly=true])</strong>
    </dt>
    <dd>
    Check if the given rectangle collides with solid and/or platform collision.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">region</span>
            <span class="types"><span class="type">{ xMin, yMin, xMax, yMax }</span></span>
         region to check
        </li>
        <li><span class="parameter">solidOnly</span>
            <span class="types"><span class="type">bool</span></span>
         If true, will only check for solid collision,
  otherwise will include platform collision.
         (<em>default</em> true)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if the given rectangle overlaps with a collision region
    </ol>




</dd>
    <dt>
    <a name = "collisionBlocksAlongLine"></a>
    <strong>collisionBlocksAlongLine(startPoint, endPoint[, solidOnly=true[, maxSize=-1]])</strong>
    </dt>
    <dd>
    Gets all the tile positions along the given line that contain collision.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">startPoint</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         the start of the line
        </li>
        <li><span class="parameter">endPoint</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         the end of the line
        </li>
        <li><span class="parameter">solidOnly</span>
            <span class="types"><span class="type">bool</span></span>
         if true, will only check for solid collision,
  otherwise will include platform collision.
         (<em>default</em> true)
        </li>
        <li><span class="parameter">maxSize</span>
            <span class="types"><span class="type">int</span></span>
         the maximum number of collision positions to return, or
  -1 for no limit.
         (<em>default</em> -1)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

         A table (array) of {x,y} positions (integral) of the tiles with
  collision, ordered by (smallest) distance to the start point.

    </ol>




</dd>
    <dt>
    <a name = "gravity"></a>
    <strong>gravity(position)</strong>
    </dt>
    <dd>
    Gets the force due to gravity applied at the given position.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         world position to get gravity at
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">float</span></span>
        the gravity at the given position
    </ol>




</dd>
    <dt>
    <a name = "isVisibleToPlayer"></a>
    <strong>isVisibleToPlayer(region)</strong>
    </dt>
    <dd>
    Determines if the given region overlaps a player's screen region.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">region</span>
            <span class="types"><span class="type">{ xMin, yMin, xMax, yMax }</span></span>
         { minX, minY, maxX, maxY } region to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if the region overlaps a player's screen region
    </ol>




</dd>
    <dt>
    <a name = "setParticleEmitterActive"></a>
    <strong>setParticleEmitterActive(name, active)</strong>
    </dt>
    <dd>
    Enables or disables a particle emitter. </p>

<p>  The particle emitter should be listed in the <code>particleEmitters</code> section of
  the entity's *.animation file.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the name of the particle emitter, matching the key used in the
  <code>particleEmitters</code> section of the entity's *.animation file.
        </li>
        <li><span class="parameter">active</span>
            <span class="types"><span class="type">bool</span></span>
         whether the emitter should be enabled (true) or disabled (false)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
         true if the named particle emitter existed in the entity's
  *.animation file, false otherwise.

    </ol>




</dd>
    <dt>
    <a name = "burstParticleEmitter"></a>
    <strong>burstParticleEmitter(name)</strong>
    </dt>
    <dd>
    Triggers a one-tick emission of particles. </p>

<p>  The particle emitter should be listed in the <code>particleEmitters</code> section of
  the entity's *.animation file. The particles will be emitted for a single
  game tick, without modifying the <code>active</code> state of the emitter.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the name of the particle emitter, matching the key used in the
  <code>particleEmitters</code> section of the entity's *.animation file.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
         true if the named particle emitter existed in the entity's
  *.animation file, false otherwise.

    </ol>




</dd>
    <dt>
    <a name = "entityQuery"></a>
    <strong>entityQuery(center, radius[, options])</strong>
    </dt>
    <dd>
    Finds all entities in the given region.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">center</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         Center of circular region to find entities in, or min position of a rect if radius param is a position
        </li>
        <li><span class="parameter">radius</span>
            <span class="types"><span class="type">numeric</span> or <span class="type">positon</span></span>
         If a single numeric value, the radius of the circular region.
  Can also be given a position, in which case the search region will be a rectangle defined by a min/max position.
        </li>
        <li><span class="parameter">options</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>

<p> Additional filtering options table, accepts the following:</p>
<pre><code> withoutEntityId - an entity id (numeric) that will not be returned, even
                   if it is found in the search region.
 callScript - The (string) name of a script to call in each considered
              entity (only entities that support script calls will be
              returned if this option is given).
 callScriptArgs - Arguments (array) passed to the script named in callScript.
 callScriptResult - Expected result of calling the script function named
                    in callScript. Only entities that return a matching
                    result will be returned. Defaults to true.
 inSightOf - an entity id that all returned entities must have line of
             sight on.
 validTargetOf - an entity id that all returned entities must be valid
                 targets of
 notAnObject - If true, no Object types will be considered. Defaults to
               false.
 order - The desired ordering of the returned entities, only supports the
        value "nearest" which will sort the resulting entities by
        ascending distance from the center of the search region.
</code></pre>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        Array of entity ids
    </ol>




</dd>
    <dt>
    <a name = "monsterQuery"></a>
    <strong>monsterQuery(center, radius[, options])</strong>
    </dt>
    <dd>
    Entity query that only considers monsters.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">center</span>
            <span class="types"><span class="type">{ x, y }</span></span>



        </li>
        <li><span class="parameter">radius</span>
            <span class="types"><span class="type">numeric</span> or <span class="type">positon</span></span>



        </li>
        <li><span class="parameter">options</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>



        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/world.html#entityQuery">entityQuery</a>
    </ul>


</dd>
    <dt>
    <a name = "npcQuery"></a>
    <strong>npcQuery(center, radius[, options])</strong>
    </dt>
    <dd>
    Entity query that only considers npcs.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">center</span>
            <span class="types"><span class="type">{ x, y }</span></span>



        </li>
        <li><span class="parameter">radius</span>
            <span class="types"><span class="type">numeric</span> or <span class="type">positon</span></span>



        </li>
        <li><span class="parameter">options</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>



        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/world.html#entityQuery">entityQuery</a>
    </ul>


</dd>
    <dt>
    <a name = "objectQuery"></a>
    <strong>objectQuery(center, radius[, options])</strong>
    </dt>
    <dd>

<p>Entity query that only considers placed objects. </p>

<p>  Adds the following options to the options argument:</p>
<pre><code>name = &lt;only objects with this (string) name will be returned&gt;
</code></pre>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">center</span>
            <span class="types"><span class="type">{ x, y }</span></span>



        </li>
        <li><span class="parameter">radius</span>
            <span class="types"><span class="type">numeric</span> or <span class="type">positon</span></span>



        </li>
        <li><span class="parameter">options</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>



        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/world.html#entityQuery">entityQuery</a>
    </ul>


</dd>
    <dt>
    <a name = "itemDropQuery"></a>
    <strong>itemDropQuery(center, radius[, options])</strong>
    </dt>
    <dd>
    Entity query that only considers item drops.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">center</span>
            <span class="types"><span class="type">{ x, y }</span></span>



        </li>
        <li><span class="parameter">radius</span>
            <span class="types"><span class="type">numeric</span> or <span class="type">positon</span></span>



        </li>
        <li><span class="parameter">options</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>



        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/world.html#entityQuery">entityQuery</a>
    </ul>


</dd>
    <dt>
    <a name = "playerQuery"></a>
    <strong>playerQuery(center, radius[, options])</strong>
    </dt>
    <dd>
    Entity query that only considers players.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">center</span>
            <span class="types"><span class="type">{ x, y }</span></span>



        </li>
        <li><span class="parameter">radius</span>
            <span class="types"><span class="type">numeric</span> or <span class="type">positon</span></span>



        </li>
        <li><span class="parameter">options</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>



        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/world.html#entityQuery">entityQuery</a>
    </ul>


</dd>
    <dt>
    <a name = "loungeableQuery"></a>
    <strong>loungeableQuery(center, radius[, options])</strong>
    </dt>
    <dd>

<p>Entity query that only considers placed objects. </p>

<p>  Adds the following options to the options argument:
   orientation = Filters results that match the given orientation, valid</p>
<pre><code>             values are "sit" and "lay"
</code></pre>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">center</span>
            <span class="types"><span class="type">{ x, y }</span></span>



        </li>
        <li><span class="parameter">radius</span>
            <span class="types"><span class="type">numeric</span> or <span class="type">positon</span></span>



        </li>
        <li><span class="parameter">options</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>



        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/world.html#entityQuery">entityQuery</a>
    </ul>


</dd>
    <dt>
    <a name = "entityLineQuery"></a>
    <strong>entityLineQuery(start, end[, options])</strong>
    </dt>
    <dd>
    Entity query that only matches entities intersecting the given line.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">start</span>
            <span class="types"><span class="type">{ x, y }</span></span>



        </li>
        <li><span class="parameter">end</span>
            <span class="types"><span class="type">{ x, y }</span></span>



        </li>
        <li><span class="parameter">options</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>



        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/world.html#entityQuery">entityQuery</a>
    </ul>


</dd>
    <dt>
    <a name = "objectLineQuery"></a>
    <strong>objectLineQuery(start, end[, options])</strong>
    </dt>
    <dd>
    Entity query that only matches placed objects intersecting the given line.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">start</span>
            <span class="types"><span class="type">{ x, y }</span></span>



        </li>
        <li><span class="parameter">end</span>
            <span class="types"><span class="type">{ x, y }</span></span>



        </li>
        <li><span class="parameter">options</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>



        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/world.html#entityQuery">entityQuery</a>
    </ul>


</dd>
    <dt>
    <a name = "npcLineQuery"></a>
    <strong>npcLineQuery(start, end[, options])</strong>
    </dt>
    <dd>
    Entity query that only matches npcs intersecting the given line.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">start</span>
            <span class="types"><span class="type">{ x, y }</span></span>



        </li>
        <li><span class="parameter">end</span>
            <span class="types"><span class="type">{ x, y }</span></span>



        </li>
        <li><span class="parameter">options</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>



        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/world.html#entityQuery">entityQuery</a>
    </ul>


</dd>
    <dt>
    <a name = "entityExists"></a>
    <strong>entityExists(entityId)</strong>
    </dt>
    <dd>
    Determines if an entity still exists in the world.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         the entity to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if the entity exists, false otherwise
    </ol>




</dd>
    <dt>
    <a name = "entityType"></a>
    <strong>entityType(entityId)</strong>
    </dt>
    <dd>
    Determines the general type of an entity.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         the entity to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">nil</span></span>
        if the entity doesn't exist or is of an unhandled type
    </ol>
     <h3>Or</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         entity type, which will be one of:</p>
<pre><code> "player"
 "monster"
 "object"
 "itemdrop"
 "projectile"
 "plant"
 "plantdrop"
 "effect"
 "npc"
</code></pre>
<p>
    </ol>




</dd>
    <dt>
    <a name = "entityPosition"></a>
    <strong>entityPosition(entityId)</strong>
    </dt>
    <dd>
    Gets the world position of an entity.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         the entity to get the position of
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">nil</span></span>
        if the entity does not exist
    </ol>
     <h3>Or</h3>
    <ol>

           <span class="types"><span class="type">position</span></span>
        world position of the entity
    </ol>




</dd>
    <dt>
    <a name = "entityUuid"></a>
    <strong>entityUuid(entityId)</strong>
    </dt>
    <dd>
    Gets a UUID for the given entity. </p>

<p>  Only valid for player entities. The UUID will remain the same even if the
  player's entity id changes.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         the entity to get the uuid of
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">nil</span></span>
        if the entity doesn't exist, or is not a player
    </ol>
     <h3>Or</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        hexadecimal UUID string (without leading '0x')
    </ol>




</dd>
    <dt>
    <a name = "entityHealth"></a>
    <strong>entityHealth(entityId)</strong>
    </dt>
    <dd>
    Gets the current and maximum health of an entity.
  Only valid for entities that have health (monsters, npcs, and players)

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         entity to get the health of
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">nil</span></span>
        if the entity does not exist or is not a monster, npc, or player
    </ol>
     <h3>Or</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        of <code>{ health, maxHealth }</code>
    </ol>




</dd>
    <dt>
    <a name = "entitySpecies"></a>
    <strong>entitySpecies(entityId)</strong>
    </dt>
    <dd>
    Gets the species of the entity. </p>

<p>  Only valid for entities that have a notion of humanoid species (npcs and players)

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         entity to get the species of
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">nil</span></span>
        if the entity does not exist or is not an npc or player
    </ol>
     <h3>Or</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        species name (e.g. "apex" or "human")
    </ol>




</dd>
    <dt>
    <a name = "entityName"></a>
    <strong>entityName(entityId)</strong>
    </dt>
    <dd>

<p>Gets the name of the entity. </p>

<p>  The meaning of "name" depends on the type of entity:</p>
<pre><code>Player,NPC,Monster: A name for the specific entity instance, e.g. "John Doe"
Object: The objectName value from the object's *.object config file
ItemDrop: The itemName value from the item's *.item config file
</code></pre>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         entity to get the name of
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">nil</span></span>
        if the entity doesnt exist or is not of a supported type.
    </ol>
     <h3>Or</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        entity name
    </ol>




</dd>
    <dt>
    <a name = "entityIsOnGround"></a>
    <strong>entityIsOnGround(entityId)</strong>
    </dt>
    <dd>
    Gets whether the entity is currently on the ground. </p>

<p>  Only valid for: monsters, npcs, and players.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         entity to get the onGround status of
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">nil</span></span>
        if the entity doesnt exist or is not of a supported type.
    </ol>
     <h3>Or</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if the entity is on the ground, false otherwise
    </ol>




</dd>
    <dt>
    <a name = "entityHandItem"></a>
    <strong>entityHandItem(entityId, hand)</strong>
    </dt>
    <dd>
    Gets an item descriptor for the item held in the entity's hand. </p>

<p>  Only valid for entities that can hold items (npcs and players)

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         entity to get hand item of
        </li>
        <li><span class="parameter">hand</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of the hand to check, accepts: "primary" or "alt"
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">nil</span></span>
        if the entity doesn't exist or is not a player or NPC, or there is no item in the specified hand
    </ol>
     <h3>Or</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        the name of the held item, as specified in an <code>itemName</code> value of a *.item config file
    </ol>




</dd>
    <dt>
    <a name = "callScriptedEntity"></a>
    <strong>callScriptedEntity(entityId, name[, ...])</strong>
    </dt>
    <dd>
    Calls a lua function in the given entity's lua context.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         The entity to call the function on. Must be an entity that
  can run scripts - e.g. a monster, npc, or (wire) object.
        </li>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         The name of the function to call. This does not need to be a
  global function - e.g. <code>entity.say</code> would call the "say" function on the
  <a href="../modules/entity.html#">entity</a>  table (as defined in the target entity's lua context).
        </li>
        <li><span class="parameter">...</span>
         Arguments passed to function
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">nil</span></span>
        if the entity does not exist, is not a scripted entity, or
   this function is being called from a tech script.
    </ol>
     <h3>Or</h3>
    <ol>

        The result of calling the function.
    </ol>




</dd>
    <dt>
    <a name = "loungeableOccupied"></a>
    <strong>loungeableOccupied(entityId)</strong>
    </dt>
    <dd>
    Determine if a loungeable object is occupied. </p>

<p>  Note that loungeables may only be occupied by a humanoid (player or NPC).

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         the loungeable entity to check.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">nil</span></span>
        if the entity does not exist or is not a loungeable object
    </ol>
     <h3>Or</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if the entity is occupied or false if it is not
    </ol>




</dd>
    <dt>
    <a name = "isMonster"></a>
    <strong>isMonster(entityId[, isAggressive])</strong>
    </dt>
    <dd>
    Determine if the given entity is a monster.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         the entity to check
        </li>
        <li><span class="parameter">isAggressive</span>
            <span class="types"><span class="type">bool</span></span>
         If given as true, will only return true if
  the entity is a monster and is marked as aggressive. If false is
  given, will only return true if the entity is not marked as
  aggressive.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
         true if entity is a monster (and the aggressive flag was
  omitted, or matches the monster's aggressive flag); otherwise false

    </ol>




</dd>
    <dt>
    <a name = "isNpc"></a>
    <strong>isNpc(entityId[, damageTeam])</strong>
    </dt>
    <dd>
    Determine if the given entity is an NPC.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         the (int) entity ID of the entity to check
        </li>
        <li><span class="parameter">damageTeam</span>
            <span class="types"><span class="type">int</span></span>
         if given, the (int) damageTeam that a NPC entity must
  have for this function to return true.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
         true if entity is an NPC and the damageTeam argument was
  omitted or matches the NPC's damage team. Otherwise false.

    </ol>




</dd>
    <dt>
    <a name = "takeItemDrop"></a>
    <strong>takeItemDrop(entityId[, takenByEntityId])</strong>
    </dt>
    <dd>
    Mark the given item drop entity as taken.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         the item drop entity to take
        </li>
        <li><span class="parameter">takenByEntityId</span>
            <span class="types"><span class="type">EntityId</span></span>
         the entity that is taking the item drop.
  If given, the item drop will animate towards this entity for a bit.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">nil</span></span>
        if the item was already taken, was not an item drop, or could
  not be taken for some other reason.
    </ol>
     <h3>Or</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        descriptor of the item taken.
    </ol>




</dd>
    <dt>
    <a name = "lightLevel"></a>
    <strong>lightLevel(position)</strong>
    </dt>
    <dd>
    Gets the amount of light applied to a given position.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         the position to get the light level at
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        light level at the given position
    </ol>




</dd>
    <dt>
    <a name = "windLevel"></a>
    <strong>windLevel(position)</strong>
    </dt>
    <dd>
    Gets the amount of wind at the given position.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         the position to get the wind level at
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        wind level at the given position
    </ol>




</dd>
    <dt>
    <a name = "temperature"></a>
    <strong>temperature(position)</strong>
    </dt>
    <dd>
    Gets the temperature at the given position.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         the position to get the temperature at
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        temperature at the given position
    </ol>




</dd>
    <dt>
    <a name = "breathable"></a>
    <strong>breathable(position)</strong>
    </dt>
    <dd>
    Gets whether or not the position is breathable.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         the position to check the breathability of
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if the position is breathable, otherwise false.
    </ol>




</dd>
    <dt>
    <a name = "underground"></a>
    <strong>underground(position)</strong>
    </dt>
    <dd>
    Determine whether the given position is below the underground level.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         the position to check
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if the given position is below the underground level.
    </ol>




</dd>
    <dt>
    <a name = "material"></a>
    <strong>material(position, layer)</strong>
    </dt>
    <dd>
    Gets the name of the material at the given position.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         the position to check
        </li>
        <li><span class="parameter">layer</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         The layer to check: "foreground" or "background"
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">nil</span></span>
        if there is no material placed at the given position and layer.
    </ol>
     <h3>Or</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the material name, as defined in the <code>materialName</code> value
  of a *.material file.

    </ol>




</dd>
    <dt>
    <a name = "mod"></a>
    <strong>mod(position, layer)</strong>
    </dt>
    <dd>
    Gets the tile modification on the tile at the given position.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         the position to check
        </li>
        <li><span class="parameter">layer</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the layer to check: "foreground" or "background"
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">nil</span></span>
        if there is no tile modification placed at the given position and layer.
    </ol>
     <h3>Or</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the tile mod name, as defined in the <code>modName</code> value
  of a *.matmod file.

    </ol>




</dd>
    <dt>
    <a name = "damageTiles"></a>
    <strong>damageTiles(positions, layer, sourcePosition, type, amount)</strong>
    </dt>
    <dd>
    Applies damage to the tiles at the given positions.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">positions</span>
         List of { x, y } positions to damage tiles at
        </li>
        <li><span class="parameter">layer</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         The tile layer to damage: "foreground" or "background"
        </li>
        <li><span class="parameter">sourcePosition</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         The position of the cause of the damage
        </li>
        <li><span class="parameter">type</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         The type of damage to apply, allowed values are:
  "plantish", "blockish", "beamish", "explosive", "fire", "tilling"
  or "crushing". Note that "crushing" damage will prevent destroyed
  tiles from dropping a material item.
        </li>
        <li><span class="parameter">amount</span>
            <span class="types"><span class="type">number</span></span>
         The amount of damage to apply to each tile
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if any tiles were actually damaged, false otherwise
    </ol>




</dd>
    <dt>
    <a name = "placeMaterial"></a>
    <strong>placeMaterial(position, layer, materialName[, materialHue=nil[, allowOverlap=false]])</strong>
    </dt>
    <dd>
    Places a tile of a specific material at the given location.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         The position to place the material at - fractional values
  will be ignored, placing at a tile position.
        </li>
        <li><span class="parameter">layer</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         The tile layer to place the tile on: "foreground" or "background"
        </li>
        <li><span class="parameter">materialName</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         The name of the material to place, as specified in the
  <code>materialName</code> value in a *.material file.
        </li>
        <li><span class="parameter">materialHue</span>
            <span class="types"><span class="type">number</span></span>
         hue shift to apply to the material, if omitted
  (or nil), will default to whatever hue matches the biome in which it is placed
         (<em>default</em> nil)
        </li>
        <li><span class="parameter">allowOverlap</span>
            <span class="types"><span class="type">bool</span></span>
         If true, allows tiles to be placed even if they
  overlap entities at the same location.
         (<em>default</em> false)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if the material could be placed, false otherwise
    </ol>




</dd>
    <dt>
    <a name = "placeMod"></a>
    <strong>placeMod(position, layer, modName[, modHue=nil[, allowOverlap=false]])</strong>
    </dt>
    <dd>
    Places a specific tile modification at the given location.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
            <span class="types"><span class="type">{ x, y }</span></span>
         The position to place the mod at - fractional values
  will be ignored, placing at a tile position.
        </li>
        <li><span class="parameter">layer</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         The tile layer to place the mod on: "foreground" or "background"
        </li>
        <li><span class="parameter">modName</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the tile mod name, as defined in the <code>modName</code> value
  of a *.matmod file.
        </li>
        <li><span class="parameter">modHue</span>
            <span class="types"><span class="type">number</span></span>
         hue shift to apply to the mod, if omitted
  (or nil), will default to whatever hue matches the biome in which it is placed
         (<em>default</em> nil)
        </li>
        <li><span class="parameter">allowOverlap</span>
            <span class="types"><span class="type">bool</span></span>
         If true, allows tiles to be placed even if they
  overlap entities at the same location.
         (<em>default</em> false)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if the material could be placed, false otherwise
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.0</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
